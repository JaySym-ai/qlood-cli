## qlood-cli

> Qlood CLI is the official, open-source companion to qlood.com for next‑generation AI testing.
>
> IMPORTANT: Qlood CLI is the first open‑source tool to use Auggie (augmentcode.com) CLI in non‑interactive mode. This project exists to demonstrate the power of Auggie’s Non‑Interactive mode for intelligent, context‑aware testing.

Highlights
- Uses AugmentCode (Auggie) to index your repo for deep project context and smarter testing decisions
- Non‑interactive Auggie flows to run comprehensive checks automatically via MCP
- Results saved under ./.qlood/results/
- Workflows: create, update, and delete AI‑generated end‑to‑end test plans

What you get (from qlood.com)
- AI_SUPERPOWER: tests like a pro, thinks like a user, catches what humans miss
- LIGHTNING_FAST: ideal for CI/CD pipelines and rapid iteration
- BULLETPROOF: comprehensive analysis to keep your app production‑ready

### Why Auggie (augmentcode.com)
Qlood CLI is built around Auggie, the AugmentCode.com CLI, running in non‑interactive mode.

- Code‑aware indexing: Auggie scans and understands your codebase to build a rich, semantic context of your project
- Smarter actions: with this context, Qlood makes better choices for navigation, selectors, state, and validations
- Continuous adaptation: workflows can be updated as your code changes, keeping tests relevant
- Learn more: https://www.augmentcode.com/


Open-source CLI to help you test your own app. qlood initializes a project-local `./.qlood/` folder, then uses AI-driven browser automation powered by Auggie (via MCP Playwright) to explore and find bugs in your web app.

- Project-local state in `./.qlood` (config, results, notes)
- AI-assisted testing flows delegated to Auggie CLI

### Why qlood
- Fast local setup: `qlood` prompts to create `./.qlood` in your repo.
- Reproducible runs: artifacts saved under `./.qlood/results/`.
- Adaptable: define your dev server URL and start command; the tool can launch it if needed.

### Install
- Prerequisites: Node.js 18+
- Local development:
  1) npm install
  2) npm link
  3) Authenticate Auggie: run `auggie --login` (install via `qlood auggie-check` if needed)

- As a global package (when published):
  `npm i -g qlood-cli`

### Quick Start
- In your project root:
  - Run `qlood` — if not initialized, you’ll be prompted to create `./.qlood` and auto-detect sensible defaults
  - Edit `./.qlood/qlood.json` if needed (URL/start command/healthcheck)
  - Use `qlood agent "<goal>"` to run Auggie with your MCP config

### How It Work
This is a concise, terminal-first guide to using qlood.

- Install:

  ```bash
  npm install -g qlood-cli
  ```

- Launch:

  ```bash
  qlood
  ```

- Initialize: qlood asks to initialize your project. Accepting also allows the AugmentCode CLI (Auggie) to index your project so it can take action and perform testing.

- Help: inside qlood, run:

  ```bash
  /help
  ```

- Useful workflow commands:

  ```bash
  /wfadd I need a workflow that test the user signup and login
  ```
  - Creates `./.qlood/workflows/1-user-signup-login.md` with steps generated by Auggie from your codebase.

  - Note: Running workflows directly from qlood is removed; use `qlood agent` for goal-driven runs.

  ```bash
  /wfupdate 1
  ```
  - Reviews and adapts workflow 1 to recent code changes.

  ```bash
  /wfdel 1
  ```
  - Deletes workflow 1.

- Results:
  - Each run produces `./.qlood/results/wf#-%datetime%/` with subfolders:
    - `/success`: high-level report and references to artifacts
    - `/warning`: potential issues and `fix-prompt.md`
    - `/error`: errors and `fix-prompt.md`

- Coverage of tests performed by qlood includes:
  - End-to-end user flows like a human
  - UI/UX issues and obvious anti-patterns
  - Console errors and warnings
  - Network performance signals and failures
  - Basic security/vulnerability heuristics
  - Authentication flow sanity checks
  - Dead links and navigation problems
  - API key exposure hints and URL rewrite sanity

### Usage
`qlood [command] [options]`

Core testing commands
- `test <scenario>`                   Run an AI-driven test scenario against your app

Maintenance
- (no maintenance commands)

Global options
- (none)


Examples
- `qlood agent "Sign in and create a post"`

Project config (`./.qlood/qlood.json`)
- `devServer.url`: Base URL of your app (e.g., `http://localhost:5173`)
- `devServer.start`: Command to start your dev server (e.g., `npm run dev`)
- `devServer.healthcheckPath`: Path to poll for readiness (default `/`)
- `devServer.waitTimeoutMs`: Max wait for server readiness (default `60000`)
- `devServer.waitIntervalMs`: Poll interval for readiness (default `1000`)
- `browser.headless`: Default headless mode for tests (default `false`)

Artifacts
- `./.qlood/results/` — results saved by qlood commands (e.g., reviews)
- `./.qlood/notes/` — free-form notes you keep

Interactive TUI
- `qlood` or `qlood tui`              Launches the TUI (prompts to init if needed)
- Input rule: all commands must start with `/` (use `/help`)
### Notes
- Browser automation is handled by Auggie via MCP Playwright. Ensure Auggie is installed and authenticated.

See /help or `qlood --help` for low-level commands.

### Environment
- Authenticate Auggie once with `auggie --login` (no separate API keys needed)


Security note
- Prefer setting your API key via the TUI (`/key <apiKey>`) to avoid shell history capturing secrets.
- Provide login credentials via environment variables or a gitignored `.env` file. Avoid passing secrets on the command line; Qlood masks typed text in logs.
- CLI alternative: `qlood config key <apiKey>` stores it in `~/.qlood/config.json` (never committed).

### Architecture
- `bin/qlood.js`: CLI entrypoint (Commander)
- `src/auggie-integration.js`: Bridges qlood to Auggie CLI (MCP)
- `src/project.js`: Project `./.qlood` folder and config helpers (includes MCP config)
- `src/workflows.js`: Workflow file management (create/update/delete/list)
- `src/tui.js`: Interactive TUI for project setup and workflow management

### Roadmap
- Android/iOS emulator automation
- Richer assertions and reporting
- Auto-discovery of routes/actions; script recording
- Persistent user-data-dir profiles and cookies management

### Development
- Run: `node bin/qlood.js --help`
- Tests: TODO (set up Vitest/Jest)

### License
MIT
